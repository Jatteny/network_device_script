# /基础接口/操作.py 参考
`E操作`共有下列枚举值：
* **e是**: 不检查配置，总是执行肯定命令。
* **e否**：不检查配置，总是执行否定命令（在命令前加“no”）。
* **e重置**：恢复默认配置
* **e设置**：覆盖原配置
* **e删除**：删除原配置（在命令前加“no”）。对于可以设置多个值的配置而言，删除指定值。
* **e添加**：对于可以设置多个值的配置而言，添加值
* **e清空**：对于可以设置多个值的配置而言，删除所有值
* **e新建**：如果配置是默认或不存在，则执行命令。
* **e修改**：如果配置存在或默认，则执行命令。如果配置不存在，不执行命令
* **e开启**：对于开关，总是开启（无视命令原意是开还是关）。
* **e关闭**：对于开关，总是关闭（无视命令原意是开还是关）。
* **e自动**：在某些情况下不用输入参数，自动完成配置。

用户在使用`E操作`时，只要知道个名称就行，不需要知道枚举值的具体数值。

`e是`、`e否`不检查配置，在任何情况下都能使用，但是仅供测试使用，主要用来检查能否生成命令。

`e设置`、`e删除`在任何情况下都能使用，`e设置`表现出肯定操作，`e删除`表现出否定操作，但是具体是什么操作并不绝对，可能因设备不同而拥有不同行为。

其它枚举值视具体情况使用。如果在不合适的场合使用了错误的枚举值，则抛出`X操作`异常。

## 模式
`f模式_(具体模式)`可以使用的枚举值：`e设置`、`e删除`、`e新建`、`e修改`

* **e是**：总是创建并返回一个模式对象
* **e否**：总是执行删除模式命令。
* **e设置**：创建并返回一个模式对象。
* **e删除**：删除模式（如果可以的话）。
* **e新建**：创建模式对象时总是先进入模式一次。
* **e修改**：检查对应模式是否存在，如果不存在返回`None`

## 开关
`fs开关`可以使用的枚举值：`e设置`、`e删除`、`e开启`（推荐）、`e关闭`（推荐）。

大部分网络设备用“shutdown”命令表示关闭，“no shutdown”或“undo shutdown”命令表示开启。所以这里的`e设置`为关闭，`e删除`为开启。

为了能够正确表达出开关的意思，有另外2个枚举值`e开启`、`e关闭`专门用于开关操作。

`fs开关`中的`a操作`也可以填布尔值

|操作|开|关|
|-|-|-|
|e是|√<br>（当肯定命令是开启时）|√<br>（当肯定命令是关闭时）|
|e否|√<br>（当否定命令是开启时）|√<br>（当否定命令是关闭时）|
|e设置|√<br>（当肯定命令是开启时）|√<br>（当肯定命令是关闭时）|
|e删除|√<br>（当否定命令是开启时）|√<br>（当否定命令是关闭时）|
|e开启|√| |
|e关闭| |√|
|True|√||
|False||√|

## 虚拟局域网
下表为`网络设备脚本.基础接口.虚拟局域网.I接口配置.f中继_s通过`因`a操作`不同而产生的效果。

|操作|覆盖值|添加值|删除值|清空值|
|-|-|-|-|-|
|e是|√<br>（在思科中）|√<br>（在华为中）| |
|e否| | |√<br>（在华为中）|√<br>（在思科中）|
|e设置|√|||
|e重置||||√|
|e添加||√||
|e删除|||√|

*清空值的效果取决于具体设备，思科默认允许全部，华为默认只允许虚拟局域网1

## 访问控制列表
下表为`网络设备脚本.基础接口.访问控制列表.I列表配置.fs规则`因`a操作`不同而产生的效果。

|操作|新建规则|覆盖规则|删除规则|修改规则|报错|
|-|-|-|-|-|-|
|e是|√<br>（规则不存在时）|||√<br>（华为v8.x，华三）|X执行<br>（规则存在时）<br>（思科，华为旧版本）|
|e否|||√||ValueError<br>（没有指定`a序号`）|
|e设置||√|||
|e重置|||√||ValueError<br>（没有指定`a序号`）|
|e添加|√<br>（如果规则存在，<br>则在最后位置新建）|
|e删除|||√||ValueError<br>（没有指定`a序号`）|
|e新建|√<br>（如果规则不存在）||||X执行<br>（如果规则存在）|
|e修改||||√|ValueError<br>（没有指定`a序号`）|

*`e删除`总是成功，无视原规则是否存在。

*如果不指定序号，`e添加`和`e新建`总是在最后位置新建规则，且该操作总是成功。

## e自动
可以使用`e自动`的地方：
* `I接口配置.fs网络地址4`：从动态主机配置协议获取接口的网络地址
* `I接口配置.fs网络地址6`：从邻居发现协议获取接口的网络地址
* `I接口配置.fs域名服务器4`：从动态主机配置协议获取域名服务器地址
* `I接口配置.fs域名服务器6`：同上